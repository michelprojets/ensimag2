#include <stdbool.h>
#include <inttypes.h>

#ifndef __TIMER_H__
#define __TIMER_H__

#define NB_CAR_TEMPS 8
#define ADDR_TABLE_IT 0x1000
#define NUM_PORT_COMMAND_TIMER 0x43
#define NUM_PORT_DATA_TIMER 0x40
#define TIMER_COMMAND 0x34
#define QUARTZ 0x1234DD
#define CLOCKFREQ 50
#define CTRL_IT_COMMAND 0x20
#define NUM_PORT_CTRL_IT 0x20
#define NUM_PORT_MASK_DATA 0x21

typedef struct Temps{
    uint8_t sec;
    uint8_t min;
    uint8_t heure;
} Temps;

/*
Eviter de declarer et d initialiser les variables globales ici,
il vaut mieux le faire dans le .c puis les declarer extern ici (pour faire comme en POO)
*/
Temps tps = {0, 0, 0};

uint32_t nb_secs = 0;

uint8_t cpt = 0;

extern uint32_t get_nb_secs();

extern void config_freq_horloge();

extern void init_traitant_IT(int32_t num_IT, void (*traitant)(void));

extern void masque_IRQ(uint32_t num_IRQ, bool masque);

extern void affichage_chaine(char * chaine, uint8_t lig, uint8_t col);

extern void affichage_temps();

extern void affichage_etat();

extern void ordonnance();

#endif
